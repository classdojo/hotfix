(function(){var b=function(g,k){var f=b.resolve(g,k||"/"),j=b.modules[f];if(!j)throw Error("Failed to resolve module "+g+", tried "+f);return(f=b.cache[f])?f.exports:j()};b.paths=[];b.modules={};b.cache={};b.extensions=[".js",".coffee",".json"];b._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0};b.resolve=function(g,k){function f(c){c=h.normalize(c);if(b.modules[c])return c;for(var a=0;a<b.extensions.length;a++){var e=b.extensions[a];if(b.modules[c+e])return c+e}}function j(c){c=c.replace(/\/+$/,"");
var a=h.normalize(c+"/package.json");if(b.modules[a]){var a=b.modules[a](),e=a.browserify;if("object"===typeof e&&e.main){if(a=f(h.resolve(c,e.main)))return a}else if("string"===typeof e){if(a=f(h.resolve(c,e)))return a}else if(a.main&&(a=f(h.resolve(c,a.main))))return a}return f(c+"/index")}k||(k="/");if(b._core[g])return g;var h=b.modules.path(),d=(k=h.resolve("/",k))||"/";if(g.match(/^(?:\.\.?\/|\/)/)){var a=f(h.resolve(d,g))||j(h.resolve(d,g));if(a)return a}a:{for(var a="/"===d?[""]:h.normalize(d).split("/"),
d=[],m=a.length-1;0<=m;m--)if("node_modules"!==a[m]){var p=a.slice(0,m+1).join("/")+"/node_modules";d.push(p)}for(a=0;a<d.length;a++){m=d[a];if(p=f(m+"/"+g)){d=p;break a}if(m=j(m+"/"+g)){d=m;break a}}d=(p=f(g))?p:void 0}if(d)return d;throw Error("Cannot find module '"+g+"'");};b.alias=function(g,k){var f=b.modules.path(),j=null;try{j=b.resolve(g+"/package.json","/")}catch(h){j=b.resolve(g,"/")}for(var f=f.dirname(j),j=(Object.keys||function(a){var d=[],c;for(c in a)d.push(c);return d})(b.modules),
d=0;d<j.length;d++){var a=j[d];a.slice(0,f.length+1)===f+"/"?(a=a.slice(f.length),b.modules[k+a]=b.modules[f+a]):a===f&&(b.modules[k]=b.modules[f])}};var s={},y="undefined"!==typeof window?window:{},w=!1;b.define=function(g,k){!w&&b.modules.__browserify_process&&(s=b.modules.__browserify_process(),w=!0);var f=b._core[g]?"":b.modules.path().dirname(g),j=function(d){var a=b(d,f);if((d=b.cache[b.resolve(d,f)])&&null===d.parent)d.parent=h;return a};j.resolve=function(d){return b.resolve(d,f)};j.modules=
b.modules;j.define=b.define;j.cache=b.cache;var h={id:g,filename:g,exports:{},loaded:!1,parent:null};b.modules[g]=function(){b.cache[g]=h;k.call(h.exports,j,h,h.exports,f,g,s,y);h.loaded=!0;return h.exports}};b.define("path",function(b,k,f,j,h,d){function a(c,a){for(var e=[],l=0;l<c.length;l++)a(c[l],l,c)&&e.push(c[l]);return e}function m(c,a){for(var e=0,l=c.length;0<=l;l--){var x=c[l];"."==x?c.splice(l,1):".."===x?(c.splice(l,1),e++):e&&(c.splice(l,1),e--)}if(a)for(;e--;e)c.unshift("..");return c}
var p=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;f.resolve=function(){for(var c="",b=!1,e=arguments.length;-1<=e&&!b;e--){var l=0<=e?arguments[e]:d.cwd();"string"===typeof l&&l&&(c=l+"/"+c,b="/"===l.charAt(0))}c=m(a(c.split("/"),function(e){return!!e}),!b).join("/");return(b?"/":"")+c||"."};f.normalize=function(c){var d="/"===c.charAt(0),e="/"===c.slice(-1);c=m(a(c.split("/"),function(e){return!!e}),!d).join("/");!c&&!d&&(c=".");c&&e&&(c+="/");return(d?"/":"")+c};f.join=function(){var c=Array.prototype.slice.call(arguments,
0);return f.normalize(a(c,function(c){return c&&"string"===typeof c}).join("/"))};f.dirname=function(c){return(c=p.exec(c)[1]||"")?1===c.length?c:c.substring(0,c.length-1):"."};f.basename=function(c,a){var e=p.exec(c)[2]||"";a&&e.substr(-1*a.length)===a&&(e=e.substr(0,e.length-a.length));return e};f.extname=function(c){return p.exec(c)[3]||""};f.relative=function(c,a){function e(e){for(var c=0;c<e.length&&""===e[c];c++);for(var a=e.length-1;0<=a&&""===e[a];a--);return c>a?[]:e.slice(c,a-c+1)}c=f.resolve(c).substr(1);
a=f.resolve(a).substr(1);for(var l=e(c.split("/")),d=e(a.split("/")),b=Math.min(l.length,d.length),m=b,g=0;g<b;g++)if(l[g]!==d[g]){m=g;break}b=[];for(g=m;g<l.length;g++)b.push("..");b=b.concat(d.slice(m));return b.join("/")}});b.define("__browserify_process",function(b,k,f,j,h,d){d=k.exports={};d.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var a=
[];window.addEventListener("message",function(c){c.source===window&&"browserify-tick"===c.data&&(c.stopPropagation(),0<a.length&&a.shift()())},!0);return function(c){a.push(c);window.postMessage("browserify-tick","*")}}return function(a){setTimeout(a,0)}}();d.title="browser";d.browser=!0;d.env={};d.argv=[];d.binding=function(a){if("evals"===a)return b("vm");throw Error("No such module. (Possibly not yet loaded)");};var a="/",m;d.cwd=function(){return a};d.chdir=function(d){m||(m=b("path"));a=m.resolve(d,
a)}});b.define("/node_modules/sift/package.json",function(b,k){k.exports={main:"./sift.js"}});b.define("/node_modules/sift/sift.js",function(b,k){var f=new function(){function b(e){return e?0:-1}var d=this.priority=function(e,a){for(var c=e.exprs,b=0,d=0,f=c.length;d<f;d++){var g=c[d];if(!~(g=g.e(g.v,a instanceof Date?a.getTime():a,a)))return-1;b+=g}return b},a=this.parse=function(e,c){e||(e={$eq:e});var b=[];if(e.constructor==Object)for(var h in e){var k=g[h]?h:"$trav",q=e[h],n=q;if(f[k]){if(~h.indexOf(".")){n=
h.split(".");h=n.shift();for(var r={},u=r,t=0,s=n.length-1;t<s;t++)u=u[n[t]]={};u[n[t]]=q;n=q=r}if(q instanceof Array){n=[];for(r=q.length;r--;)n.push(a(q[r]))}else n=a(q,h)}b.push(j(k,h,n))}else b.push(j("$eq",h,e));var v={exprs:b,k:c,test:function(e){return!!~v.priority(e)},priority:function(e){return d(v,e)}};return v},f={$and:!0,$or:!0,$nor:!0,$trav:!0,$not:!0},g={$eq:function(e,a){return b(e.test(a))},$ne:function(e,a){return b(!e.test(a))},$lt:function(e,a){return e>a?0:-1},$gt:function(e,a){return e<
a?0:-1},$lte:function(e,a){return e>=a?0:-1},$gte:function(e,a){return e<=a?0:-1},$exists:function(e,a){return e==!!a?0:-1},$in:function(e,a){if(a instanceof Array)for(var c=a.length;c--;){if(~e.indexOf(a[c]))return c}else return b(~e.indexOf(a));return-1},$not:function(a,c){return b(!a.test(c))},$type:function(a,c,b){return b?b instanceof a||b.constructor==a?0:-1:-1},$nin:function(a,c){return~g.$in(a,c)?-1:0},$mod:function(a,c){return c%a[0]==a[1]?0:-1},$all:function(a,c){for(var b=a.length;b--;)if(-1==
c.indexOf(a[b]))return b;return-1},$size:function(a,c){return c?a==c.length?0:-1:-1},$or:function(a,c){for(var b=a.length,f=b;b--;)if(~d(a[b],c))return b;return 0==f?0:-1},$nor:function(a,c){for(var b=a.length;b--;)if(~d(a[b],c))return-1;return 0},$and:function(a,c){for(var b=a.length;b--;)if(!~d(a[b],c))return-1;return 0},$trav:function(a,c){if(c instanceof Array){for(var b=c.length;b--;){var f=c[b];if(f[a.k]&&~d(a,f[a.k]))return b}return-1}return c?d(a,c[a.k]):-1}},c={$eq:function(a){return a instanceof
RegExp?a:{test:a instanceof Function?a:function(c){return c instanceof Array?~c.indexOf(a):a==c}}},$ne:function(a){return c.$eq(a)}},j=function(a,b,d){d=d instanceof Date?d.getTime():d;return{k:b,v:c[a]?c[a](d):d,e:g[a]}}},j=function(b,d,a){"object"!=typeof d&&(a=d,d=void 0);if(a){if("function"!=typeof a)throw Error("Unknown sift selector "+a);}else a=function(a){return a};var g=a,j=f.parse(b);a=function(a){for(var b=[],e,d,f=0,h=a.length;f<h;f++)e=g(a[f]),~(d=j.priority(e))&&b.push({value:e,priority:d});
b.sort(function(a,c){return a.priority>c.priority?-1:1});a=Array(b.length);for(f=b.length;f--;)a[f]=b[f].value;return a};a.test=j.test;a.score=j.priority;a.query=b;return d?a(d):a};"undefined"!=typeof k&&"undefined"!=typeof k.exports?k.exports=j:"undefined"!=typeof window&&(window.sift=j)});b.define("/lib/client/template.js",function(b,k){k.exports='  <div class="hotfix-notification">    <div class="hotfix-message"></div>     <div class="hotfix-buttons">      <a class="hotfix-ignore-button">ignore</a>       <a class="hotfix-refresh-button">refresh</a>    </div>  </div>'});
b.define("/lib/client/main.js",function(b){var k,f,j,h,d;h=b("sift");d=b("./template");f=null;$(document).ready(function(){return PUBNUB.subscribe({channel:"hotfix_refresh",callback:function(a){clearInterval(f);return f=setTimeout(k,Math.random()*Math.max(3E4,a.interval||0),a)}})});k=function(a){var b,d;if(!(a.filter&&0===h(a.filter,[window]).length)){b=j(a);d=function(){return location.reload()};if(a.critical)return setTimeout(d,4E3);b.find(".hotfix-refresh-button").click(d);return b.find(".hotfix-ignore-button").click(function(){return b.animate({top:"-100px"})})}};
j=function(a){var b;b=$(d);b.css({top:"-100px"});b.find(".hotfix-message").text(a.text);a.critical&&b.find(".hotfix-buttons").css({display:"none"});$(document.body).append(b);b.animate({top:"0px"});return b}});b("/lib/client/main.js")})();
