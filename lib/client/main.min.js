(function(){var c=function(h,k){var e=c.resolve(h,k||"/"),g=c.modules[e];if(!g)throw Error("Failed to resolve module "+h+", tried "+e);return(e=c.cache[e])?e.exports:g()};c.paths=[];c.modules={};c.cache={};c.extensions=[".js",".coffee",".json"];c._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0};c.resolve=function(h,k){function e(a){a=j.normalize(a);if(c.modules[a])return a;for(var p=0;p<c.extensions.length;p++){var f=c.extensions[p];if(c.modules[a+f])return a+f}}function g(a){a=a.replace(/\/+$/,"");
var p=j.normalize(a+"/package.json");if(c.modules[p]){var p=c.modules[p](),f=p.browserify;if("object"===typeof f&&f.main){if(p=e(j.resolve(a,f.main)))return p}else if("string"===typeof f){if(p=e(j.resolve(a,f)))return p}else if(p.main&&(p=e(j.resolve(a,p.main))))return p}return e(a+"/index")}k||(k="/");if(c._core[h])return h;var j=c.modules.path(),b=(k=j.resolve("/",k))||"/";if(h.match(/^(?:\.\.?\/|\/)/)){var d=e(j.resolve(b,h))||g(j.resolve(b,h));if(d)return d}a:{for(var d="/"===b?[""]:j.normalize(b).split("/"),
b=[],n=d.length-1;0<=n;n--)if("node_modules"!==d[n]){var m=d.slice(0,n+1).join("/")+"/node_modules";b.push(m)}for(d=0;d<b.length;d++){n=b[d];if(m=e(n+"/"+h)){b=m;break a}if(n=g(n+"/"+h)){b=n;break a}}b=(m=e(h))?m:void 0}if(b)return b;throw Error("Cannot find module '"+h+"'");};c.alias=function(h,k){var e=c.modules.path(),g=null;try{g=c.resolve(h+"/package.json","/")}catch(j){g=c.resolve(h,"/")}for(var e=e.dirname(g),g=(Object.keys||function(b){var c=[],a;for(a in b)c.push(a);return c})(c.modules),
b=0;b<g.length;b++){var d=g[b];d.slice(0,e.length+1)===e+"/"?(d=d.slice(e.length),c.modules[k+d]=c.modules[e+d]):d===e&&(c.modules[k]=c.modules[e])}};var s={},y="undefined"!==typeof window?window:{},w=!1;c.define=function(h,k){!w&&c.modules.__browserify_process&&(s=c.modules.__browserify_process(),w=!0);var e=c._core[h]?"":c.modules.path().dirname(h),g=function(b){var d=c(b,e);if((b=c.cache[c.resolve(b,e)])&&null===b.parent)b.parent=j;return d};g.resolve=function(b){return c.resolve(b,e)};g.modules=
c.modules;g.define=c.define;g.cache=c.cache;var j={id:h,filename:h,exports:{},loaded:!1,parent:null};c.modules[h]=function(){c.cache[h]=j;k.call(j.exports,g,j,j.exports,e,h,s,y);j.loaded=!0;return j.exports}};c.define("path",function(c,k,e,g,j,b){function d(a,b){for(var f=[],l=0;l<a.length;l++)b(a[l],l,a)&&f.push(a[l]);return f}function n(a,b){for(var f=0,l=a.length;0<=l;l--){var x=a[l];"."==x?a.splice(l,1):".."===x?(a.splice(l,1),f++):f&&(a.splice(l,1),f--)}if(b)for(;f--;f)a.unshift("..");return a}
var m=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;e.resolve=function(){for(var a="",c=!1,f=arguments.length;-1<=f&&!c;f--){var l=0<=f?arguments[f]:b.cwd();"string"===typeof l&&l&&(a=l+"/"+a,c="/"===l.charAt(0))}a=n(d(a.split("/"),function(f){return!!f}),!c).join("/");return(c?"/":"")+a||"."};e.normalize=function(a){var b="/"===a.charAt(0),f="/"===a.slice(-1);a=n(d(a.split("/"),function(f){return!!f}),!b).join("/");!a&&!b&&(a=".");a&&f&&(a+="/");return(b?"/":"")+a};e.join=function(){var a=Array.prototype.slice.call(arguments,
0);return e.normalize(d(a,function(a){return a&&"string"===typeof a}).join("/"))};e.dirname=function(a){return(a=m.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-1):"."};e.basename=function(a,b){var f=m.exec(a)[2]||"";b&&f.substr(-1*b.length)===b&&(f=f.substr(0,f.length-b.length));return f};e.extname=function(a){return m.exec(a)[3]||""};e.relative=function(a,b){function f(f){for(var a=0;a<f.length&&""===f[a];a++);for(var l=f.length-1;0<=l&&""===f[l];l--);return a>l?[]:f.slice(a,l-a+1)}a=e.resolve(a).substr(1);
b=e.resolve(b).substr(1);for(var l=f(a.split("/")),c=f(b.split("/")),d=Math.min(l.length,c.length),m=d,h=0;h<d;h++)if(l[h]!==c[h]){m=h;break}d=[];for(h=m;h<l.length;h++)d.push("..");d=d.concat(c.slice(m));return d.join("/")}});c.define("__browserify_process",function(c,k,e,g,j,b){b=k.exports={};b.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var b=
[];window.addEventListener("message",function(a){a.source===window&&"browserify-tick"===a.data&&(a.stopPropagation(),0<b.length&&b.shift()())},!0);return function(a){b.push(a);window.postMessage("browserify-tick","*")}}return function(a){setTimeout(a,0)}}();b.title="browser";b.browser=!0;b.env={};b.argv=[];b.binding=function(b){if("evals"===b)return c("vm");throw Error("No such module. (Possibly not yet loaded)");};var d="/",n;b.cwd=function(){return d};b.chdir=function(b){n||(n=c("path"));d=n.resolve(b,
d)}});c.define("/node_modules/sift/package.json",function(c,k){k.exports={main:"./sift.js"}});c.define("/node_modules/sift/sift.js",function(c,k){var e=new function(){function c(f){return f?0:-1}var b=this.priority=function(f,a){for(var b=f.exprs,c=0,d=0,e=b.length;d<e;d++){var m=b[d];if(!~(m=m.e(m.v,a instanceof Date?a.getTime():a,a)))return-1;c+=m}return c},d=this.parse=function(a,l){a||(a={$eq:a});var c=[];if(a.constructor==Object)for(var g in a){var k=m[g]?g:"$trav",j=a[g],q=j;if(e[k]){if(~g.indexOf(".")){q=
g.split(".");g=q.shift();for(var r={},u=r,t=0,s=q.length-1;t<s;t++)u=u[q[t]]={};u[q[t]]=j;q=j=r}if(j instanceof Array){q=[];for(r=j.length;r--;)q.push(d(j[r]))}else q=d(j,g)}c.push(h(k,g,q))}else c.push(h("$eq",g,a));var v={exprs:c,k:l,test:function(a){return!!~v.priority(a)},priority:function(a){return b(v,a)}};return v},e={$and:!0,$or:!0,$nor:!0,$trav:!0,$not:!0},m={$eq:function(a,b){return c(a.test(b))},$ne:function(a,b){return c(!a.test(b))},$lt:function(a,b){return a>b?0:-1},$gt:function(a,b){return a<
b?0:-1},$lte:function(a,b){return a>=b?0:-1},$gte:function(a,b){return a<=b?0:-1},$exists:function(a,b){return a==!!b?0:-1},$in:function(a,b){if(b instanceof Array)for(var d=b.length;d--;){if(~a.indexOf(b[d]))return d}else return c(~a.indexOf(b));return-1},$not:function(a,b){return c(!a.test(b))},$type:function(a,b,c){return c?c instanceof a||c.constructor==a?0:-1:-1},$nin:function(a,b){return~m.$in(a,b)?-1:0},$mod:function(a,b){return b%a[0]==a[1]?0:-1},$all:function(a,b){for(var c=a.length;c--;)if(-1==
b.indexOf(a[c]))return c;return-1},$size:function(a,b){return b?a==b.length?0:-1:-1},$or:function(a,c){for(var d=a.length,e=d;d--;)if(~b(a[d],c))return d;return 0==e?0:-1},$nor:function(a,c){for(var d=a.length;d--;)if(~b(a[d],c))return-1;return 0},$and:function(a,c){for(var d=a.length;d--;)if(!~b(a[d],c))return-1;return 0},$trav:function(a,c){if(c instanceof Array){for(var d=c.length;d--;){var e=c[d];if(e[a.k]&&~b(a,e[a.k]))return d}return-1}return c?b(a,c[a.k]):-1}},a={$eq:function(a){return a instanceof
RegExp?a:{test:a instanceof Function?a:function(b){return b instanceof Array?~b.indexOf(a):a==b}}},$ne:function(b){return a.$eq(b)}},h=function(b,c,d){d=d instanceof Date?d.getTime():d;return{k:c,v:a[b]?a[b](d):d,e:m[b]}}},g=function(c,b,d){"object"!=typeof b&&(d=b,b=void 0);if(d){if("function"!=typeof d)throw Error("Unknown sift selector "+d);}else d=function(a){return a};var h=d,m=e.parse(c);d=function(a){for(var b=[],c,d,e=0,g=a.length;e<g;e++)c=h(a[e]),~(d=m.priority(c))&&b.push({value:c,priority:d});
b.sort(function(a,b){return a.priority>b.priority?-1:1});a=Array(b.length);for(e=b.length;e--;)a[e]=b[e].value;return a};d.test=m.test;d.score=m.priority;d.query=c;return b?d(b):d};"undefined"!=typeof k&&"undefined"!=typeof k.exports?k.exports=g:"undefined"!=typeof window&&(window.sift=g)});c.define("/lib/client/template.js",function(c,k){k.exports='  <div class="hotfix-notification">    <div class="hotfix-message"></div>     <div class="hotfix-buttons">      <a class="hotfix-ignore-button">ignore</a>       <a class="hotfix-refresh-button">refresh</a>    </div>  </div>'});
c.define("/lib/client/main.js",function(c){var k,e,g,j,b,d,n;d=c("sift");n=c("./template");e=window.hotfix={};g=Date.now();$(document).ready(function(){var b;b=$("#hotfix");b=b.attr("data-host")||b.attr("host")||"";setInterval(k,1E3,b);return k(b)});k=function(b){return $.getJSON(""+b+"/hotfix/info.json?callback=?").success(function(a){a=a.result;if(a.updatedAt>g)return g=a.updatedAt,j(a)})};j=function(c){var a,g;if(e.onDisplayMessage)e.onDisplayMessage(c);if(!(c.filter&&0===d(c.filter,[window]).length)){a=
b(c);g=function(){if(e.onReloadPage)e.onReloadPage(c);return location.reload()};if(c.critical)return setTimeout(g,3E3);a.find(".hotfix-refresh-button").click(g);return a.find(".hotfix-ignore-button").click(function(){return a.animate({top:"-100px"})})}};b=function(b){var a;a=$(n);a.css({top:"-100px"});a.find(".hotfix-message").text(b.message);b.critical&&a.find(".hotfix-buttons").css({display:"none"});$(document.body).append(a);a.animate({top:"0px"});return a}});c("/lib/client/main.js")})();
