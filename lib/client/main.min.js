(function(){var c=function(m,h){var b=c.resolve(m,h||"/"),k=c.modules[b];if(!k)throw Error("Failed to resolve module "+m+", tried "+b);return(b=c.cache[b])?b.exports:k()};c.paths=[];c.modules={};c.cache={};c.extensions=[".js",".coffee",".json"];c._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0};c.resolve=function(m,h){function b(a){a=g.normalize(a);if(c.modules[a])return a;for(var n=0;n<c.extensions.length;n++){var e=c.extensions[n];if(c.modules[a+e])return a+e}}function k(a){a=a.replace(/\/+$/,"");
var n=g.normalize(a+"/package.json");if(c.modules[n]){var n=c.modules[n](),e=n.browserify;if("object"===typeof e&&e.main){if(n=b(g.resolve(a,e.main)))return n}else if("string"===typeof e){if(n=b(g.resolve(a,e)))return n}else if(n.main&&(n=b(g.resolve(a,n.main))))return n}return b(a+"/index")}h||(h="/");if(c._core[m])return m;var g=c.modules.path(),d=(h=g.resolve("/",h))||"/";if(m.match(/^(?:\.\.?\/|\/)/)){var f=b(g.resolve(d,m))||k(g.resolve(d,m));if(f)return f}a:{for(var f="/"===d?[""]:g.normalize(d).split("/"),
d=[],p=f.length-1;0<=p;p--)if("node_modules"!==f[p]){var j=f.slice(0,p+1).join("/")+"/node_modules";d.push(j)}for(f=0;f<d.length;f++){p=d[f];if(j=b(p+"/"+m)){d=j;break a}if(p=k(p+"/"+m)){d=p;break a}}d=(j=b(m))?j:void 0}if(d)return d;throw Error("Cannot find module '"+m+"'");};c.alias=function(m,h){var b=c.modules.path(),k=null;try{k=c.resolve(m+"/package.json","/")}catch(g){k=c.resolve(m,"/")}for(var b=b.dirname(k),k=(Object.keys||function(d){var b=[],a;for(a in d)b.push(a);return b})(c.modules),
d=0;d<k.length;d++){var f=k[d];f.slice(0,b.length+1)===b+"/"?(f=f.slice(b.length),c.modules[h+f]=c.modules[b+f]):f===b&&(c.modules[h]=c.modules[b])}};var t={},y="undefined"!==typeof window?window:{},x=!1;c.define=function(m,h){!x&&c.modules.__browserify_process&&(t=c.modules.__browserify_process(),x=!0);var b=c._core[m]?"":c.modules.path().dirname(m),k=function(d){var f=c(d,b);if((d=c.cache[c.resolve(d,b)])&&null===d.parent)d.parent=g;return f};k.resolve=function(d){return c.resolve(d,b)};k.modules=
c.modules;k.define=c.define;k.cache=c.cache;var g={id:m,filename:m,exports:{},loaded:!1,parent:null};c.modules[m]=function(){c.cache[m]=g;h.call(g.exports,k,g,g.exports,b,m,t,y);g.loaded=!0;return g.exports}};c.define("path",function(c,h,b,k,g,d){function f(a,d){for(var e=[],l=0;l<a.length;l++)d(a[l],l,a)&&e.push(a[l]);return e}function p(a,d){for(var e=0,l=a.length;0<=l;l--){var r=a[l];"."==r?a.splice(l,1):".."===r?(a.splice(l,1),e++):e&&(a.splice(l,1),e--)}if(d)for(;e--;e)a.unshift("..");return a}
var j=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;b.resolve=function(){for(var a="",b=!1,e=arguments.length;-1<=e&&!b;e--){var l=0<=e?arguments[e]:d.cwd();"string"===typeof l&&l&&(a=l+"/"+a,b="/"===l.charAt(0))}a=p(f(a.split("/"),function(e){return!!e}),!b).join("/");return(b?"/":"")+a||"."};b.normalize=function(a){var b="/"===a.charAt(0),e="/"===a.slice(-1);a=p(f(a.split("/"),function(e){return!!e}),!b).join("/");!a&&!b&&(a=".");a&&e&&(a+="/");return(b?"/":"")+a};b.join=function(){var a=Array.prototype.slice.call(arguments,
0);return b.normalize(f(a,function(a){return a&&"string"===typeof a}).join("/"))};b.dirname=function(a){return(a=j.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-1):"."};b.basename=function(a,b){var e=j.exec(a)[2]||"";b&&e.substr(-1*b.length)===b&&(e=e.substr(0,e.length-b.length));return e};b.extname=function(a){return j.exec(a)[3]||""};b.relative=function(a,d){function e(e){for(var a=0;a<e.length&&""===e[a];a++);for(var l=e.length-1;0<=l&&""===e[l];l--);return a>l?[]:e.slice(a,l-a+1)}a=b.resolve(a).substr(1);
d=b.resolve(d).substr(1);for(var l=e(a.split("/")),r=e(d.split("/")),c=Math.min(l.length,r.length),f=c,j=0;j<c;j++)if(l[j]!==r[j]){f=j;break}c=[];for(j=f;j<l.length;j++)c.push("..");c=c.concat(r.slice(f));return c.join("/")}});c.define("__browserify_process",function(c,h,b,k,g,d){d=h.exports={};d.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var b=
[];window.addEventListener("message",function(a){a.source===window&&"browserify-tick"===a.data&&(a.stopPropagation(),0<b.length&&b.shift()())},!0);return function(a){b.push(a);window.postMessage("browserify-tick","*")}}return function(a){setTimeout(a,0)}}();d.title="browser";d.browser=!0;d.env={};d.argv=[];d.binding=function(b){if("evals"===b)return c("vm");throw Error("No such module. (Possibly not yet loaded)");};var f="/",p;d.cwd=function(){return f};d.chdir=function(b){p||(p=c("path"));f=p.resolve(b,
f)}});c.define("/node_modules/sift/package.json",function(c,h){h.exports={main:"./sift.js"}});c.define("/node_modules/sift/sift.js",function(c,h){var b=new function(){function b(e){return e?0:-1}var d=this.priority=function(e,a){for(var b=e.exprs,c=0,d=0,f=b.length;d<f;d++){var j=b[d];if(!~(j=j.e(j.v,a instanceof Date?a.getTime():a,a)))return-1;c+=j}return c},c=this.parse=function(e,a){e||(e={$eq:e});var b=[];if(e.constructor==Object)for(var g in e){var k=j[g]?g:"$trav",h=e[g],q=h;if(m[k]){if(~g.indexOf(".")){q=
g.split(".");g=q.shift();for(var s={},v=s,u=0,t=q.length-1;u<t;u++)v=v[q[u]]={};v[q[u]]=h;q=h=s}if(h instanceof Array){q=[];for(s=h.length;s--;)q.push(c(h[s]))}else q=c(h,g)}b.push(n(k,g,q))}else b.push(n("$eq",g,e));var w={exprs:b,k:a,test:function(e){return!!~w.priority(e)},priority:function(e){return d(w,e)}};return w},m={$and:!0,$or:!0,$nor:!0,$trav:!0,$not:!0},j={$eq:function(e,a){return b(e.test(a))},$ne:function(e,a){return b(!e.test(a))},$lt:function(e,a){return e>a?0:-1},$gt:function(e,a){return e<
a?0:-1},$lte:function(a,b){return a>=b?0:-1},$gte:function(a,b){return a<=b?0:-1},$exists:function(a,b){return a==!!b?0:-1},$in:function(a,c){if(c instanceof Array)for(var d=c.length;d--;){if(~a.indexOf(c[d]))return d}else return b(~a.indexOf(c));return-1},$not:function(a,c){return b(!a.test(c))},$type:function(a,b,c){return c?c instanceof a||c.constructor==a?0:-1:-1},$nin:function(a,b){return~j.$in(a,b)?-1:0},$mod:function(a,b){return b%a[0]==a[1]?0:-1},$all:function(a,b){for(var c=a.length;c--;)if(-1==
b.indexOf(a[c]))return c;return-1},$size:function(a,b){return b?a==b.length?0:-1:-1},$or:function(a,b){for(var c=a.length,f=c;c--;)if(~d(a[c],b))return c;return 0==f?0:-1},$nor:function(a,b){for(var c=a.length;c--;)if(~d(a[c],b))return-1;return 0},$and:function(a,b){for(var c=a.length;c--;)if(!~d(a[c],b))return-1;return 0},$trav:function(a,b){if(b instanceof Array){for(var c=b.length;c--;){var f=b[c];if(f[a.k]&&~d(a,f[a.k]))return c}return-1}return b?d(a,b[a.k]):-1}},a={$eq:function(a){return a instanceof
RegExp?a:{test:a instanceof Function?a:function(b){return b instanceof Array?~b.indexOf(a):a==b}}},$ne:function(b){return a.$eq(b)}},n=function(b,c,d){d=d instanceof Date?d.getTime():d;return{k:c,v:a[b]?a[b](d):d,e:j[b]}}},k=function(c,d,f){"object"!=typeof d&&(f=d,d=void 0);if(f){if("function"!=typeof f)throw Error("Unknown sift selector "+f);}else f=function(a){return a};var h=f,j=b.parse(c);f=function(a){for(var b=[],c,d,f=0,g=a.length;f<g;f++)c=h(a[f]),~(d=j.priority(c))&&b.push({value:c,priority:d});
b.sort(function(a,b){return a.priority>b.priority?-1:1});a=Array(b.length);for(f=b.length;f--;)a[f]=b[f].value;return a};f.test=j.test;f.score=j.priority;f.query=c;return d?f(d):f};"undefined"!=typeof h&&"undefined"!=typeof h.exports?h.exports=k:"undefined"!=typeof window&&(window.sift=k)});c.define("/lib/client/template.js",function(c,h){h.exports='  <div class="hotfix-notification">    <div class="hotfix-message"></div>     <div class="hotfix-buttons">      <a class="hotfix-ignore-button">ignore</a>       <a class="hotfix-refresh-button">refresh</a>    </div>  </div>'});
c.define("/lib/client/main.js",function(c){var h,b,k,g,d,f,p;f=c("sift");p=c("./template");b=window.hotfix={};h=void 0!==typeof window.callPhantom?0:3E4;g=null;$(document).ready(function(){return PUBNUB.subscribe({channel:"hotfix_refresh",connect:function(){if(b.onConnect)return b.onConnect()},callback:function(c){if(b.onHotFix)b.onHotFix(c);clearInterval(g);return g=setTimeout(k,Math.random()*Math.max(h,c.interval||0),c)}})});k=function(c){var a,g;if(b.onDisplayMessage)b.onDisplayMessage(c);if(!(c.filter&&
0===f(c.filter,[window]).length)){a=d(c);g=function(){if(b.onReloadPage)b.onReloadPage(c);return location.reload()};if(c.critical)return setTimeout(g,4E3);a.find(".hotfix-refresh-button").click(g);return a.find(".hotfix-ignore-button").click(function(){return a.animate({top:"-100px"})})}};d=function(b){var a;a=$(p);a.css({top:"-100px"});a.find(".hotfix-message").text(b.text);b.critical&&a.find(".hotfix-buttons").css({display:"none"});$(document.body).append(a);a.animate({top:"0px"});return a}});c("/lib/client/main.js")})();
