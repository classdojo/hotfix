(function(){var b=function(j,k){var f=b.resolve(j,k||"/"),h=b.modules[f];if(!h)throw Error("Failed to resolve module "+j+", tried "+f);return(f=b.cache[f])?f.exports:h()};b.paths=[];b.modules={};b.cache={};b.extensions=[".js",".coffee",".json"];b._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0};b.resolve=function(j,k){function f(a){a=l.normalize(a);if(b.modules[a])return a;for(var d=0;d<b.extensions.length;d++){var e=b.extensions[d];if(b.modules[a+e])return a+e}}function h(a){a=a.replace(/\/+$/,"");
var d=l.normalize(a+"/package.json");if(b.modules[d]){var d=b.modules[d](),e=d.browserify;if("object"===typeof e&&e.main){if(d=f(l.resolve(a,e.main)))return d}else if("string"===typeof e){if(d=f(l.resolve(a,e)))return d}else if(d.main&&(d=f(l.resolve(a,d.main))))return d}return f(a+"/index")}k||(k="/");if(b._core[j])return j;var l=b.modules.path(),c=(k=l.resolve("/",k))||"/";if(j.match(/^(?:\.\.?\/|\/)/)){var g=f(l.resolve(c,j))||h(l.resolve(c,j));if(g)return g}a:{for(var g="/"===c?[""]:l.normalize(c).split("/"),
c=[],n=g.length-1;0<=n;n--)if("node_modules"!==g[n]){var p=g.slice(0,n+1).join("/")+"/node_modules";c.push(p)}for(g=0;g<c.length;g++){n=c[g];if(p=f(n+"/"+j)){c=p;break a}if(n=h(n+"/"+j)){c=n;break a}}c=(p=f(j))?p:void 0}if(c)return c;throw Error("Cannot find module '"+j+"'");};b.alias=function(j,k){var f=b.modules.path(),h=null;try{h=b.resolve(j+"/package.json","/")}catch(l){h=b.resolve(j,"/")}for(var f=f.dirname(h),h=(Object.keys||function(c){var b=[],a;for(a in c)b.push(a);return b})(b.modules),
c=0;c<h.length;c++){var g=h[c];g.slice(0,f.length+1)===f+"/"?(g=g.slice(f.length),b.modules[k+g]=b.modules[f+g]):g===f&&(b.modules[k]=b.modules[f])}};var s={},y="undefined"!==typeof window?window:{},w=!1;b.define=function(j,k){!w&&b.modules.__browserify_process&&(s=b.modules.__browserify_process(),w=!0);var f=b._core[j]?"":b.modules.path().dirname(j),h=function(c){var g=b(c,f);if((c=b.cache[b.resolve(c,f)])&&null===c.parent)c.parent=l;return g};h.resolve=function(c){return b.resolve(c,f)};h.modules=
b.modules;h.define=b.define;h.cache=b.cache;var l={id:j,filename:j,exports:{},loaded:!1,parent:null};b.modules[j]=function(){b.cache[j]=l;k.call(l.exports,h,l,l.exports,f,j,s,y);l.loaded=!0;return l.exports}};b.define("path",function(b,k,f,h,l,c){function g(a,d){for(var e=[],m=0;m<a.length;m++)d(a[m],m,a)&&e.push(a[m]);return e}function n(a,d){for(var e=0,m=a.length;0<=m;m--){var x=a[m];"."==x?a.splice(m,1):".."===x?(a.splice(m,1),e++):e&&(a.splice(m,1),e--)}if(d)for(;e--;e)a.unshift("..");return a}
var p=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;f.resolve=function(){for(var a="",d=!1,e=arguments.length;-1<=e&&!d;e--){var m=0<=e?arguments[e]:c.cwd();"string"===typeof m&&m&&(a=m+"/"+a,d="/"===m.charAt(0))}a=n(g(a.split("/"),function(e){return!!e}),!d).join("/");return(d?"/":"")+a||"."};f.normalize=function(a){var d="/"===a.charAt(0),e="/"===a.slice(-1);a=n(g(a.split("/"),function(e){return!!e}),!d).join("/");!a&&!d&&(a=".");a&&e&&(a+="/");return(d?"/":"")+a};f.join=function(){var a=Array.prototype.slice.call(arguments,
0);return f.normalize(g(a,function(a){return a&&"string"===typeof a}).join("/"))};f.dirname=function(a){return(a=p.exec(a)[1]||"")?1===a.length?a:a.substring(0,a.length-1):"."};f.basename=function(a,d){var e=p.exec(a)[2]||"";d&&e.substr(-1*d.length)===d&&(e=e.substr(0,e.length-d.length));return e};f.extname=function(a){return p.exec(a)[3]||""};f.relative=function(a,d){function e(e){for(var a=0;a<e.length&&""===e[a];a++);for(var m=e.length-1;0<=m&&""===e[m];m--);return a>m?[]:e.slice(a,m-a+1)}a=f.resolve(a).substr(1);
d=f.resolve(d).substr(1);for(var m=e(a.split("/")),c=e(d.split("/")),b=Math.min(m.length,c.length),g=b,j=0;j<b;j++)if(m[j]!==c[j]){g=j;break}b=[];for(j=g;j<m.length;j++)b.push("..");b=b.concat(c.slice(g));return b.join("/")}});b.define("__browserify_process",function(b,k,f,h,l,c){c=k.exports={};c.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(a){return window.setImmediate(a)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var b=
[];window.addEventListener("message",function(a){a.source===window&&"browserify-tick"===a.data&&(a.stopPropagation(),0<b.length&&b.shift()())},!0);return function(a){b.push(a);window.postMessage("browserify-tick","*")}}return function(a){setTimeout(a,0)}}();c.title="browser";c.browser=!0;c.env={};c.argv=[];c.binding=function(c){if("evals"===c)return b("vm");throw Error("No such module. (Possibly not yet loaded)");};var g="/",n;c.cwd=function(){return g};c.chdir=function(c){n||(n=b("path"));g=n.resolve(c,
g)}});b.define("/node_modules/sift/package.json",function(b,k){k.exports={main:"./sift.js"}});b.define("/node_modules/sift/sift.js",function(b,k){var f=new function(){function b(e){return e?0:-1}var c=this.priority=function(e,a){for(var b=e.exprs,d=0,c=0,g=b.length;c<g;c++){var f=b[c];if(!~(f=f.e(f.v,a instanceof Date?a.getTime():a,a)))return-1;d+=f}return d},g=this.parse=function(e,a){e||(e={$eq:e});var b=[];if(e.constructor==Object)for(var h in e){var l=j[h]?h:"$trav",k=e[h],q=k;if(f[l]){if(~h.indexOf(".")){q=
h.split(".");h=q.shift();for(var r={},u=r,t=0,s=q.length-1;t<s;t++)u=u[q[t]]={};u[q[t]]=k;q=k=r}if(k instanceof Array){q=[];for(r=k.length;r--;)q.push(g(k[r]))}else q=g(k,h)}b.push(d(l,h,q))}else b.push(d("$eq",h,e));var v={exprs:b,k:a,test:function(e){return!!~v.priority(e)},priority:function(e){return c(v,e)}};return v},f={$and:!0,$or:!0,$nor:!0,$trav:!0,$not:!0},j={$eq:function(e,a){return b(e.test(a))},$ne:function(e,a){return b(!e.test(a))},$lt:function(e,a){return e>a?0:-1},$gt:function(e,a){return e<
a?0:-1},$lte:function(e,a){return e>=a?0:-1},$gte:function(e,a){return e<=a?0:-1},$exists:function(e,a){return e==!!a?0:-1},$in:function(a,d){if(d instanceof Array)for(var c=d.length;c--;){if(~a.indexOf(d[c]))return c}else return b(~a.indexOf(d));return-1},$not:function(a,d){return b(!a.test(d))},$type:function(a,b,d){return d?d instanceof a||d.constructor==a?0:-1:-1},$nin:function(a,b){return~j.$in(a,b)?-1:0},$mod:function(a,b){return b%a[0]==a[1]?0:-1},$all:function(a,b){for(var d=a.length;d--;)if(-1==
b.indexOf(a[d]))return d;return-1},$size:function(a,b){return b?a==b.length?0:-1:-1},$or:function(a,b){for(var d=a.length,f=d;d--;)if(~c(a[d],b))return d;return 0==f?0:-1},$nor:function(a,b){for(var d=a.length;d--;)if(~c(a[d],b))return-1;return 0},$and:function(a,b){for(var d=a.length;d--;)if(!~c(a[d],b))return-1;return 0},$trav:function(a,b){if(b instanceof Array){for(var d=b.length;d--;){var f=b[d];if(f[a.k]&&~c(a,f[a.k]))return d}return-1}return b?c(a,b[a.k]):-1}},a={$eq:function(a){return a instanceof
RegExp?a:{test:a instanceof Function?a:function(b){return b instanceof Array?~b.indexOf(a):a==b}}},$ne:function(b){return a.$eq(b)}},d=function(b,d,c){c=c instanceof Date?c.getTime():c;return{k:d,v:a[b]?a[b](c):c,e:j[b]}}},h=function(b,c,g){"object"!=typeof c&&(g=c,c=void 0);if(g){if("function"!=typeof g)throw Error("Unknown sift selector "+g);}else g=function(a){return a};var j=g,h=f.parse(b);g=function(a){for(var b=[],e,c,f=0,g=a.length;f<g;f++)e=j(a[f]),~(c=h.priority(e))&&b.push({value:e,priority:c});
b.sort(function(a,b){return a.priority>b.priority?-1:1});a=Array(b.length);for(f=b.length;f--;)a[f]=b[f].value;return a};g.test=h.test;g.score=h.priority;g.query=b;return c?g(c):g};"undefined"!=typeof k&&"undefined"!=typeof k.exports?k.exports=h:"undefined"!=typeof window&&(window.sift=h)});b.define("/lib/client/template.js",function(b,k){k.exports='  <div class="hotfix-notification">    <div class="hotfix-message"></div>     <div class="hotfix-buttons">      <a class="hotfix-ignore-button">ignore</a>       <a class="hotfix-refresh-button">refresh</a>    </div>  </div>'});
b.define("/lib/client/main.js",function(b){var k,f,h,l,c,g,n,p;n=b("sift");p=b("./template");h=window.hotfix={};k="undefined"!==typeof window.callPhantom||window.debugHotfix?1E3:3E4;f=function(){return!Date.now?(new Date).valueOf():Date.now()};l=Number(f());$(document).ready(function(){var a,b;a=$("#hotfix");b=a.attr("data-host")||a.attr("host")||"";a=function(){return $.ajax({type:"GET",url:""+b+"/hotfix/info.json?r="+f(),dataType:"json",jsonp:!0,success:function(a){a=a.result;if(a.updatedAt>l)return l=
a.updatedAt,c(a)},error:function(){}})};setInterval(a,k);return a()});c=function(a){var b,c;if(h.onDisplayMessage)h.onDisplayMessage(a);if(!(a.filter&&0===n(a.filter,[window]).length)){b=g(a);c=function(){if(h.onReloadPage)h.onReloadPage(a);return location.reload()};if(a.critical)return setTimeout(c,3E3);b.find(".hotfix-refresh-button").click(c);return b.find(".hotfix-ignore-button").click(function(){return b.animate({top:"-100px"})})}};g=function(a){var b;b=$(p);b.css({top:"-100px"});b.find(".hotfix-message").text(a.message);
a.critical&&b.find(".hotfix-buttons").css({display:"none"});$(document.body).append(b);b.animate({top:"0px"});return b}});b("/lib/client/main.js")})();
